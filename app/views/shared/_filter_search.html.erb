<script>
  let filterInput = document.getElementById('filterInput');
  addEventListener('keyup', filterLocations);

  function filterLocations(){
    let filterValue = document.getElementById('filterInput').value.toUpperCase();
    let location_name = document.getElementById('wrapper').querySelectorAll('table.govuk-table');

    for(let i = 0;i < location_name.length;i++){
      let text = location_name[i].getElementsByTagName('div')[0];
      location_name[i].style.display = 'none';

      if(text.innerHTML.toUpperCase().indexOf(filterValue) > -1){
        location_name[i].style.display = '';
      }
    }

    displayResultsMessage(location_name);
  }

function displayResultsMessage(location_name) {
  var noResultsMessage = document.getElementById('noLocationResults');
  noResultsMessage.style.display = 'none';

  var noResults = Array.from(location_name).every(
    function(e) { return e.style.display == 'none'; }
  );

  if (noResults) {
    noResultsMessage.style.display = 'block';
  }
}
</script>

<noscript>
    <style>
        #filterInput {display:none;}
    </style>
</noscript>
