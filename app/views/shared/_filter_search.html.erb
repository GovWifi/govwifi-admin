<script>
  var filterInput = document.getElementById('filter-input');
  filterInput.addEventListener('keyup', filterResults);
  filterInput.addEventListener('search', filterResults);

  function filterResults() {
    var filterValue = filterInput.value.toUpperCase();
    var rows = document.querySelectorAll('tbody tr');

    rows.forEach(function(row) {
      var cell = row.querySelector('th, td');
      var text = cell ? cell.textContent.toUpperCase() : '';
      row.style.display = text.includes(filterValue) ? '' : 'none';
    });

    displayResultsMessage(rows);
  }

  function displayResultsMessage(results) {
    var noResultsMessage = document.getElementById('no-results');
    noResultsMessage.style.display = 'none';

    var noResults = Array.from(results).every(
      function(e) { return e.style.display == 'none'; }
    );

    if (noResults) {
      noResultsMessage.style.display = 'block';
    }
  }
</script>
