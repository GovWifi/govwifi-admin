<!DOCTYPE html>
<html lang="en" class="govuk-template govuk-template--rebranded app-html-class">
  <head>
    <!-- test post please ignore -->

    <title><%= infer_page_title %></title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0b0c0c">
    <meta name="description" content="<%= content_for?(:meta_description) ? yield(:meta_description) : SITE_CONFIG["default_meta_description"] %>">

    <%= favicon_link_tag asset_path("favicon.ico") %>
    <link rel="mask-icon" href="/assets/images/govuk-mask-icon.svg" color="#0b0c0c">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/govuk-apple-touch-icon-180x180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/assets/images/govuk-apple-touch-icon-167x167.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/govuk-apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" href="/assets/images/govuk-apple-touch-icon.png">

    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag "application", media: "all" %>

    <%= javascript_include_tag "html5shiv" %>

    <% if show_timeout? %>
      <%= stylesheet_link_tag Rails.application.config.x.hmrc_frontend_basename %>
      <%= render "layouts/timeout" %>
    <% end %>

    <meta property="og:image" content="/assets/images/govuk-opengraph-image.png">
  </head>

  <body class="govuk-template__body app-body-class">
    <script nonce="<%= content_security_policy_nonce %>">
      document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');
    </script>

    <a href="#main-content" class="govuk-skip-link">Skip to main content</a>

    <%= render "shared/header" %>
    <%= render "shared/subnav/#{subnav}" if show_navigation_bars %>

    <div class="govuk-width-container">
      <% if show_navigation_bars %>
        <%= render "shared/mou_notification" %>
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-one-quarter">
            <%= render "shared/sidebar/#{sidebar}" %>
          </div>
          <div class="govuk-grid-column-three-quarters">
            <main class="govuk-main-wrapper govuk-!-padding-top-4" id="main-content" role="main">
              <%= render "layouts/flash_notices" %>
              <%= yield %>
            </main>
          </div>
        </div>
      <% else %>
        <main class="govuk-main-wrapper" id="main-content" role="main">
          <%= render "layouts/flash_notices" %>
          <%= yield %>
        </main>
      <% end %>
    </div>
    <%= render "shared/footer" %>
    <script nonce="<%= content_security_policy_nonce %>" type="module"> <%# erb_lint:disable AllowedScriptType %>
      import { initAll } from '<%= asset_path("govuk-frontend.min.js") %>'
      initAll()
    </script>

    <% if show_timeout? %>
      <%= javascript_include_tag Rails.application.config.x.hmrc_frontend_basename, nonce: content_security_policy_nonce %>
    <% end %>
  </body>
  <%= console if Rails.env.development? %>
</html>
